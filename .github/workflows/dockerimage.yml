name: Build and Publish sven.ai.web Docker Image

on: [push]

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Set terminal vars
        run: SHORT_SHA=$(git rev-parse --short HEAD)
      - name: Read previous docker-compose.yml
        run: cat docker-compose.yml
      - name: Update docker-compose.yml
        run: sed -i -r "s/sven.ai.web:.+/sven.ai.website:$SHORT_SHA/g" docker-compose.yml
      - name: Read docker compose file
        run: cat docker-compose.yml

    # - name: Build SvenAiWeb Docker image
    #   run: docker build SvenAiWeb --tag stevev0189/sven.ai.web:latest
    # - name: Log in to DockerHub Registry
    #   run: docker login -u ${{ secrets.DOCKERHUB_USERNAME }} --password ${{ secrets.DOCKERHUB_PASSWORD }}
    # - name: Push the built Docker image
    #   run: docker push stevev0189/sven.ai.web:latest
      
